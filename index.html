<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copilot Agent YAML Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Copilot Agent YAML Generator</h1>
        
        <div class="descriptor-section">
            <h2>Descriptor</h2>
            <div class="form-group">
                <label for="descriptor-name">Name:</label>
                <input type="text" id="descriptor-name" placeholder="e.g., CAT">
            </div>
            <div class="form-group">
                <label for="descriptor-display-name">Display Name:</label>
                <input type="text" id="descriptor-display-name" placeholder="e.g., UEMWorkshopAgent">
            </div>
            <div class="form-group">
                <label for="descriptor-description">Description:</label>
                <textarea id="descriptor-description" placeholder="Enter a description of your agent"></textarea>
            </div>
        </div>

        <div class="skillgroup-section">
            <h2>Skill Group</h2>
            <div class="form-group">
                <label for="skillgroup-format">Format:</label>
                <select id="skillgroup-format">
                    <option value="AGENT">AGENT</option>
                </select>
            </div>
            <div class="form-group">
                <label>Settings:</label>
                <div class="nested-form">
                    <div class="form-group">
                        <label for="history-passdown">History Pass Down Mode:</label>
                        <select id="history-passdown">
                            <option value="None">None</option>
                            <option value="All">All</option>
                            <option value="LastExchange">LastExchange</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="include-history">Include Session History:</label>
                        <select id="include-history">
                            <option value="false">false</option>
                            <option value="true">true</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div id="skills-container">
            <h2>Skills</h2>
            <div id="skills-list"></div>
            <button id="add-skill" class="btn">Add Skill</button>
        </div>

        <div class="actions">
            <button id="generate-yaml" class="btn primary">Generate YAML</button>
            <button id="copy-yaml" class="btn secondary" disabled>Copy YAML</button>
            <button id="download-yaml" class="btn secondary" disabled>Download YAML</button>
        </div>

        <div class="yaml-output">
            <h2>Generated YAML</h2>
            <pre id="yaml-result"></pre>
        </div>
    </div>

    <!-- Skill Template (Hidden) -->
    <template id="skill-template">
        <div class="skill-item">
            <div class="skill-header">
                <h3>Skill</h3>
                <button class="remove-skill btn small">Remove</button>
            </div>
            
            <div class="form-group">
                <label for="skill-name">Name:</label>
                <input type="text" class="skill-name" placeholder="e.g., ServiceNowAgent">
            </div>
            
            <div class="form-group">
                <label for="skill-display-name">Display Name:</label>
                <input type="text" class="skill-display-name" placeholder="e.g., ServiceNowAgent">
            </div>
            
            <div class="form-group">
                <label for="skill-description">Description:</label>
                <textarea class="skill-description" placeholder="Enter a description"></textarea>
            </div>
            
            <div class="form-group">
                <label>Interfaces:</label>
                <div class="interfaces-container">
                    <div class="interface-item">
                        <input type="text" value="Agent" readonly>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Inputs:</label>
                <div class="inputs-container">
                    <div class="input-item">
                        <div class="form-group">
                            <label>Required:</label>
                            <select class="input-required">
                                <option value="true">true</option>
                                <option value="false">false</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text" class="input-name" value="Input" readonly>
                        </div>
                        <div class="form-group">
                            <label>Description:</label>
                            <textarea class="input-description" placeholder="Description for this input"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Settings:</label>
                <div class="nested-form">
                    <div class="form-group">
                        <label>Instructions:</label>
                        <textarea class="skill-instructions" placeholder="Enter instructions for this skill"></textarea>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Child Skills:</label>
                <div class="childskills-container">
                    <div class="childskill-list"></div>
                    <div class="childskill-actions">
                        <input type="text" class="new-childskill" placeholder="Add a child skill">
                        <button class="add-childskill btn small">Add</button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Child Skill Template (Hidden) -->
    <template id="childskill-template">
        <div class="childskill-item">
            <span class="childskill-name"></span>
            <button class="remove-childskill btn small">Remove</button>
        </div>
    </template>

    <script src="js-yaml.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
